{"version":3,"sources":["Components/Newsfeed/Addnewsfeed.js"],"names":["Addnewsfeed","history","useHistory","dispatch","useDispatch","useState","title","description","district","taluk","photo","data","setData","handleChange","e","target","name","value","className","onSubmit","preventDefault","formData","FormData","Object","entries","map","key","append","addnewsfeed","style","padding","display","justifyContent","onClick","push","lg","Group","Control","type","placeholder","onChange","size","required","marginTop","class","accept","file","match","thumb","document","querySelector","reader","FileReader","onload","backgroundImage","result","readAsDataURL","previewImage","checkType","currentTarget","files","variant","fontWeight","width"],"mappings":"yzBAkOeA,UAtNf,WACE,IAAMC,EAAUC,cACVC,EAAWC,cAFI,EAGGC,mBAAS,CAC/BC,MAAO,GACPC,YAAa,GACbC,SAAU,GACVC,MAAO,GACPC,MAAO,KARY,mBAGdC,EAHc,KAGRC,EAHQ,OAUSP,mBAAS,IAVlB,mBAiBfQ,GAjBe,UAiBA,SAACC,GACpBF,EAAQ,EAAD,GAAMD,EAAN,eAAaG,EAAEC,OAAOC,KAAOF,EAAEC,OAAOE,WAgD/C,OACE,6BACE,yBAAKC,UAAU,6BACb,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,qBACb,yBAAKA,UAAU,0CACb,kBAAC,IAAD,CAAMA,UAAU,OAAOC,SA7Dd,SAACL,GACpBA,EAAEM,iBACF,IAAMC,EAAW,IAAIC,SACrBC,OAAOC,QAAQb,GAAMc,KAAI,mCAAEC,EAAF,KAAOT,EAAP,YAAkBI,EAASM,OAAOD,EAAKT,MAChEd,EAASyB,YAAYP,MA0DT,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAMQ,MAAO,CAAEC,QAAS,OACtB,yBACED,MAAO,CACLE,QAAS,OACTC,eAAgB,kBAGlB,oCACA,4BACEC,QAAS,kBAAMhC,EAAQiC,KAAK,0BAC5BhB,UAAU,kBAFZ,mBAOF,6BACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKiB,GAAI,GACP,wCACA,kBAAC,IAAKC,MAAN,CAAYlB,UAAU,uBACpB,kBAAC,IAAKmB,QAAN,CACEC,KAAK,OACLC,YAAY,cACZC,SAAU3B,EACV4B,KAAK,KACLvB,UAAU,SACVF,KAAK,QACL0B,UAAQ,KAGZ,8CACA,kBAAC,IAAKN,MAAN,CAAYlB,UAAU,uBACpB,kBAAC,IAAKmB,QAAN,CACEC,KAAK,OACLC,YAAY,oBACZE,KAAK,KACLD,SAAU3B,EACVK,UAAU,SACVF,KAAK,cACL0B,UAAQ,KAGZ,2CACA,kBAAC,IAAKN,MAAN,CAAYlB,UAAU,uBACpB,kBAAC,IAAKmB,QAAN,CACEC,KAAK,OACLC,YAAY,iBACZE,KAAK,KACLD,SAAU3B,EACVK,UAAU,SACVF,KAAK,WACL0B,UAAQ,KAGZ,wCACA,kBAAC,IAAKN,MAAN,CAAYlB,UAAU,uBACpB,kBAAC,IAAKmB,QAAN,CACEC,KAAK,OACLC,YAAY,cACZE,KAAK,KACLD,SAAU3B,EACVK,UAAU,SACVF,KAAK,QACL0B,UAAQ,MAId,kBAAC,IAAD,CAAKP,GAAI,EAAGN,MAAO,CAAEc,UAAW,SAC9B,yBAAKC,MAAM,WACT,yBAAKA,MAAM,OACT,yBAAKA,MAAM,sBACX,yBAAKA,MAAM,kBACT,+BACE,2BACEN,KAAK,OACLM,MAAM,eACN5B,KAAK,QACL6B,OAAO,UACPL,SAnHhC,SAAiB1B,IAiBjB,SAAmBgC,EAAMhC,GAEvB,IAAKgC,EAAKR,KAAKS,MADC,WAEd,KAAM,sBACD,IAAKD,EACV,KAAM,wBAhBV,SAAsBA,EAAMhC,GAC1B,IAAIkC,EAAQC,SAASC,cAAc,sBACjCC,EAAS,IAAIC,WAEfD,EAAOE,OAAS,WACdL,EAAMnB,MAAMyB,gBAAkB,OAASH,EAAOI,OAAS,KAEzDJ,EAAOK,cAAcV,GACrBE,EAAM9B,WAAa,kBAUjBuC,CAAaX,GAtBfY,CADW5C,EAAE6C,cAAcC,MAAM,IAEjChD,EAAQ,EAAD,GAAMD,EAAN,eAAaG,EAAEC,OAAOC,KAAOF,EAAEC,OAAO6C,MAAM,aAsH/B,yBACE/B,MAAO,CACLE,QAAS,OACTC,eAAgB,aAGlB,kBAAC,IAAD,CACE6B,QAAQ,SACRnC,IAAI,UACJG,MAAO,CACLiC,WAAY,OACZC,MAAO,UALX,yCAaN,4BACEzB,KAAK,SACLpB,UAAU,6CAFZ,YAsBJ,yBAAKA,UAAU,SAKf,yBAAKA,UAAU","file":"static/js/9.681dd3a6.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { Form, Alert } from \"react-bootstrap\";\nimport { useDispatch } from \"react-redux\";\nimport Container from \"react-bootstrap/Container\";\nimport Card from \"react-bootstrap/Card\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { addnewsfeed } from \"../../reduxx/actions/actions\";\nimport \"./newsfeed.scss\";\n\nfunction Addnewsfeed() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [data, setData] = useState({\n    title: \"\",\n    description: \"\",\n    district: \"\",\n    taluk: \"\",\n    photo: \"\",\n  });\n  const [imageUl, setImageUl] = useState(\"\");\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const formData = new FormData();\n    Object.entries(data).map(([key, value]) => formData.append(key, value));\n    dispatch(addnewsfeed(formData));\n  };\n  const handleChange = (e) => {\n    setData({ ...data, [e.target.name]: e.target.value });\n  };\n\n  const imageChange = (e) => {\n    if (e.target.files && e.target.files.length > 0) {\n      setData({ ...data, [e.target.name]: e.target.files[0] });\n      setImageUl(URL.createObjectURL(e.target.files[0]));\n      console.log(\"image\", URL.createObjectURL(e.target.files[0]));\n    }\n  };\n\n  //   function initImageUpload(box) {\n\n  //     let uploadField = box.querySelector(\".image-upload\");\n\n  //     uploadField.addEventListener(\"change\", getFile);\n\n  //   }\n\n  function getFile(e) {\n    let file = e.currentTarget.files[0];\n    checkType(file, e);\n    setData({ ...data, [e.target.name]: e.target.files[0] });\n  }\n\n  function previewImage(file, e) {\n    let thumb = document.querySelector(\".js--image-preview\"),\n      reader = new FileReader();\n\n    reader.onload = function () {\n      thumb.style.backgroundImage = \"url(\" + reader.result + \")\";\n    };\n    reader.readAsDataURL(file);\n    thumb.className += \" js--no-default\";\n  }\n\n  function checkType(file, e) {\n    let imageType = /image.*/;\n    if (!file.type.match(imageType)) {\n      throw \"Datei ist kein Bild\";\n    } else if (!file) {\n      throw \"Kein Bild gew√§hlt\";\n    } else {\n      previewImage(file, e);\n    }\n  }\n  // initialize box-scope\n\n  return (\n    <div>\n      <div className=\"d-flex align-items-center\">\n        <div className=\"row w-100 mx-0\">\n          <div className=\"col-lg-12 mx-auto\">\n            <div className=\"auth-form-light text-left px-4 px-sm-5\">\n              <Form className=\"pt-3\" onSubmit={handleSubmit}>\n                <Container>\n                  <Card style={{ padding: \"5%\" }}>\n                    <div\n                      style={{\n                        display: \"flex\",\n                        justifyContent: \"space-between\",\n                      }}\n                    >\n                      <h2>Add </h2>\n                      <button\n                        onClick={() => history.push(\"/Newsfed/ListNewsfeed\")}\n                        className=\"btn btn-danger\"\n                      >\n                        View Newsfeeds\n                      </button>\n                    </div>\n                    <br />\n                    <Row>\n                      <Col lg={8}>\n                        <label>Title</label>\n                        <Form.Group className=\"d-flex search-field\">\n                          <Form.Control\n                            type=\"text\"\n                            placeholder=\"Enter Title\"\n                            onChange={handleChange}\n                            size=\"lg\"\n                            className=\"h-auto\"\n                            name=\"title\"\n                            required\n                          />\n                        </Form.Group>\n                        <label>Description</label>\n                        <Form.Group className=\"d-flex search-field\">\n                          <Form.Control\n                            type=\"text\"\n                            placeholder=\"Enter Description\"\n                            size=\"lg\"\n                            onChange={handleChange}\n                            className=\"h-auto\"\n                            name=\"description\"\n                            required\n                          />\n                        </Form.Group>\n                        <label>District</label>\n                        <Form.Group className=\"d-flex search-field\">\n                          <Form.Control\n                            type=\"text\"\n                            placeholder=\"Enter District\"\n                            size=\"lg\"\n                            onChange={handleChange}\n                            className=\"h-auto\"\n                            name=\"district\"\n                            required\n                          />\n                        </Form.Group>\n                        <label>Taluk</label>\n                        <Form.Group className=\"d-flex search-field\">\n                          <Form.Control\n                            type=\"text\"\n                            placeholder=\"Enter Taluk\"\n                            size=\"lg\"\n                            onChange={handleChange}\n                            className=\"h-auto\"\n                            name=\"taluk\"\n                            required\n                          />\n                        </Form.Group>\n                      </Col>\n                      <Col lg={4} style={{ marginTop: \"25px\" }}>\n                        <div class=\"wrapper\">\n                          <div class=\"box\">\n                            <div class=\"js--image-preview\"></div>\n                            <div class=\"upload-options\">\n                              <label>\n                                <input\n                                  type=\"file\"\n                                  class=\"image-upload\"\n                                  name=\"photo\"\n                                  accept=\"image/*\"\n                                  onChange={getFile}\n                                />\n                              </label>\n                            </div>\n                          </div>\n                        </div>\n                        <div\n                          style={{\n                            display: \"flex\",\n                            justifyContent: \"flex-end\",\n                          }}\n                        >\n                          <Alert\n                            variant=\"danger\"\n                            key=\"warning\"\n                            style={{\n                              fontWeight: \"bold\",\n                              width: \"300px\",\n                            }}\n                          >\n                            Image dimension should be 1280x720\n                          </Alert>\n                        </div>\n                      </Col>\n                    </Row>\n                    <button\n                      type=\"submit\"\n                      className=\"btn btn-primary btn-lg font-weight-medium\"\n                    >\n                      Submit\n                    </button>\n                  </Card>\n                </Container>\n\n                {\n                  // <Form.Group className=\"d-flex search-field\">\n                  //   <Form.Control\n                  //     type=\"file\"\n                  //     size=\"lg\"\n                  //     onChange={imageChange}\n                  //     className=\"h-auto\"\n                  //     name=\"photo\"\n                  //     required\n                  //   />\n                  // </Form.Group>\n                }\n\n                <div className=\"mt-3\">\n                  {\n                    // <Link className=\"btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn\">\n                  }\n                </div>\n                <div className=\"my-2 d-flex justify-content-between align-items-center\"></div>\n              </Form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Addnewsfeed;\n"],"sourceRoot":""}